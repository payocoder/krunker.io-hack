// ==UserScript==
// @name         KrunkerMod by Krypto Cheats Official
// @namespace    Krypto Cheats
// @version      1.8.9
// @description  Krunker Cheats by Krypto Cheats Official
// @author       Krypto Cheats
// @include      /^(https?:\/\/)?(www\.)?(.+)krunker\.io(|\/|\/\?(server|party|game)=.+)$/
// @icon         https://krunkerio.org/wp-content/uploads/2018/12/krunker-io-aimbots-hacks.jpg
// @run-at       document-start
// @grant        none
// ==/UserScript==

function cripple_window(t){if(!t)return;let e=new Map(Object.entries({functions_to_hide:new WeakMap,strings_to_hide:[],hidden_globals:[],init:!1}));var n,o,w;window.top["ttap#4547"]?e=window.top["ttap#4547"]:(n=window.top,o="ttap#4547",w=e,e.get("hidden_globals").push(o),Object.defineProperty(n,o,{enumberable:!1,configurable:!1,writable:!0,value:w}));const i=t.Function.prototype.toString;let a=new Proxy(i,{apply:function(t,n,o){let w=e.get("functions_to_hide").get(n);if(w)return t.apply(w,o);let i=t.apply(n,o);for(var a=0;a<e.get("strings_to_hide").length;a++)i=i.replace(e.get("strings_to_hide")[a].from,e.get("strings_to_hide")[a].to);return i}});t.Function.prototype.toString=a;let l=function(t,n){e.get("functions_to_hide").set(n,t)};const r=t.Object.getOwnPropertyDescriptors;let s=new Proxy(r,{apply:function(t,n,o){try{var w=t.apply(n,o)}catch(t){throw t.stack=t.stack.replace(/.*Object.*\n/g,""),t}for(var i=0;i<e.get("hidden_globals").length;i++)delete w[e.get("hidden_globals")[i]];return w}});t.Object.getOwnPropertyDescriptors=s;let c=function(){};const h=t.CanvasRenderingContext2D.prototype.clearRect;let p=new Proxy(h,{apply:function(t,e,n){t.apply(e,n),c(e)}});t.CanvasRenderingContext2D.prototype.clearRect=p;const u=t.open;let f=new Proxy(u,{apply:function(t,e,n){return null}});t.open=f,e.get("hrt")||e.set("hrt",function(t,n,o,w,i){let a=o.controls;a.scrollDelta&&(a.skipScroll=a.scrollToSwap,a.scrollToSwap||a.fakeKey(2e4,1)),a.scrollDelta=0,a.wSwap=0;const l=2*Math.PI;let r=function(e){return!t.team||e.team!=t.team},s=function(t){return(t%l+l)%l},h=function(t,e,n,o){return Math.atan2(e-o,t-n)},p=function(t,e,n,o,w,i){let a=t-o,l=e-w,r=n-i;return Math.sqrt(a*a+l*l+r*r)},u=function(t,e,n,o,w,i){let a=Math.abs(e-w),l=p(t,e,n,o,w,i);return Math.asin(a/l)*(e>w?-1:1)},f=function(t){return function(t,e,n){let o=s(h(a.object.position.z,a.object.position.x,n,t)),w=u(a.object.position.x,a.object.position.y,a.object.position.z,t,e,n),i=s(a.object.rotation.y),r=a[pchObjc].rotation.x,c=Math.min(Math.abs(o-i),Math.abs(o-i-l),Math.abs(o-i+l)),p=w-r;return Math.hypot(c,p)}(t.x3,t.y3+11-1.5-3*t.crouchVal,t.z3)},g=function(e){let n=function(e){return p(e.x3,e.y3,e.z3,t.x,t.y,t.z)}(e);return t.weapon.range>=n&&("Shotgun"!=t.weapon.name||n<70)&&("Akimbo Uzi"!=t.weapon.name||n<100)},m=null,y=1/0,b=o.players.list;for(var d=0;t.active&&d<b.length;d++){let e=b[d];if(e[isYou]||!e.active||!e[objInstances]||!r(e))continue;if(e.x3=e.x,e.y3=e.y,e.z3=e.z,!g(e)||(x=e,null!=o[canSee](t,x.x3,x.y3-3*x.crouchVal,x.z3)))continue;let n=f(e);n<y&&(y=n,m=e)}var x;let j=a.object.rotation.y,v=a[pchObjc].rotation.x;if(m){let e=m,o=e.y3+11-1-3*e.crouchVal;t.weapon.nAuto&&t.didShoot?n[5]=0:t.aimVal?n[6]=1:(n[5]=1,n[6]=1),j=h(a.object.position.z,a.object.position.x,e.z3,e.x3),v=u(a.object.position.x,a.object.position.y,a.object.position.z,e.x3,o,e.z3),v-=.3*t[recoilAnimY]}else n[5]=a[mouseDownL],n[6]=a[mouseDownR];n[3]=+(v%l).toFixed(3),n[2]=+(j%l).toFixed(3),a.keys[a.reloadKey]=1*!(void 0===t.ammos[t.weaponIndex]||0!=t.ammos[t.weaponIndex]),n[7]=1*(a.keys[a.jumpKey]&&!t.didJump),e.get("init")||(e.set("init",!0),c=function(t){let e=arguments.callee.caller.caller.arguments[0],n=arguments.callee.caller.caller.arguments[2],w=t.canvas.width/e,i=t.canvas.height/e,a=n.camera.getWorldPosition();for(var l=0;l<o.players.list.length;l++){o.players.list[l];let e=b[l];if(e[isYou]||!e.active||!e[objInstances]||!r(e))continue;let u=1/0,f=-1/0,g=1/0,m=-1/0,y=!1;for(var s=-1;!y&&s<2;s+=2)for(var c=-1;!y&&c<2;c+=2)for(var h=0;!y&&h<2;h++){let t=e[objInstances].position.clone();if(t.x+=s*((5.2-.1)/2),t.z+=c*((5.2-.1)/2),t.y+=h*(11-3*e.crouchVal),!n.frustum.containsPoint(t)){y=!0;break}t.project(n.camera),u=Math.min(u,t.x),f=Math.max(f,t.x),g=Math.min(g,t.y),m=Math.max(m,t.y)}if(y)continue;u=(u+1)/2,g=(g+1)/2,f=(f+1)/2,m=(m+1)/2,t.save();const d=t.strokeStyle,x=t.lineWidth,j=t.font,v=t.fillStyle;t.lineWidth=5,t.strokeStyle="rgba(255,50,50,1)";let S=Math.max(.3,1-p(a.x,a.y,a.z,e.x,e.y,e.z)/600);t.scale(S,S);let _=w/S,k=i/S;t.beginPath(),g=k*(1-g),m=k*(1-m),u*=_,f*=_,t.moveTo(u,g),t.lineTo(u,m),t.lineTo(f,m),t.lineTo(f,g),t.lineTo(u,g),t.stroke(),t.fillStyle="rgba(255,50,50,1)";let M=m-g;t.fillRect(u-7,g,-10,M),t.fillStyle="#00FFFF",t.fillRect(u-7,g,-10,M*(e.health/e.maxHealth)),t.font="60px Sans-serif",t.fillStyle="white",t.strokeStyle="black",t.lineWidth=1;let z=f+7,F=m;if(t.fillText(e.name,z,F),t.strokeText(e.name,z,F),t.font="30px Sans-serif",F+=35,t.fillText(e.weapon.name,z,F),t.strokeText(e.weapon.name,z,F),F+=35,t.fillText(e.health+" HP",z,F),t.strokeText(e.health+" HP",z,F),t.strokeStyle=d,t.lineWidth=x,t.font=j,t.fillStyle=v,t.restore(),e.legMeshes[0]){let t=e.legMeshes[0].material;t.alphaTest=1,t.depthTest=!1,t.fog=!1,t.emissive.g=1,t.wireframe=!0}}})});const g={construct(n,o){try{var w=new n(...o)}catch(t){throw t.stack=t.stack.replace(/.*Object.*\n/g,""),t}if(2==o.length&&o[1].length>parseInt("1337 ttap#4547")){let s=o[1];const c=s.match(/\w+\['exports'\]=(0[xX][0-9a-fA-F]+);/)[1];"0x597b"!==c&&(t[atob("ZG9jdW1lbnQ=")][atob("d3JpdGU=")](atob("VmVyc2lvbiBtaXNzbWF0Y2gg")+c),t[atob("bG9jYXRpb24=")][atob("aHJlZg==")]=atob("aHR0cHM6Ly9naXRodWIuY29tL2hydC93aGVlbGNoYWly")),window.canSee=s.match(/,this\['(\w+)'\]=function\(\w+,\w+,\w+,\w+,\w+\){if\(!\w+\)return!\w+;/)[1],window.pchObjc=s.match(/\(\w+,\w+,\w+\),this\['(\w+)'\]=new \w+\['\w+'\]\(\)/)[1],window.objInstances=s.match(/\[\w+\]\['\w+'\]=!\w+,this\['\w+'\]\[\w+\]\['\w+'\]&&\(this\['\w+'\]\[\w+\]\['(\w+)'\]\['\w+'\]=!\w+/)[1],window.isYou=s.match(/,this\['\w+'\]=!\w+,this\['\w+'\]=!\w+,this\['(\w+)'\]=\w+,this\['\w+'\]\['length'\]=\w+,this\[/)[1],window.recoilAnimY=s.match(/\w*1,this\['\w+'\]=\w*0,this\['\w+'\]=\w*0,this\['\w+'\]=\w*1,this\['\w+'\]=\w*1,this\['\w+'\]=\w*0,this\['\w+'\]=\w*0,this\['(\w+)'\]=\w*0,this\['\w+'\]=\w*0,this\['\w+'\]=\w*0,this\['\w+'\]=\w*0,/)[1],window.mouseDownL=s.match(/this\['\w+'\]=function\(\){this\['(\w+)'\]=\w*0,this\['(\w+)'\]=\w*0,this\['\w+'\]={}/)[1],window.mouseDownR=s.match(/this\['\w+'\]=function\(\){this\['(\w+)'\]=\w*0,this\['(\w+)'\]=\w*0,this\['\w+'\]={}/)[2];const h=s.match(/\(\w+,\w*1\)\),\w+\['\w+'\]=\w*0,\w+\['\w+'\]=\w*0,!(\w+)\['\w+'\]&&\w+\['\w+'\]\['push'\]\((\w+)\),(\w+)\['\w+'\]/)[2],p=s.match(/\(\w+,\w*1\)\),\w+\['\w+'\]=\w*0,\w+\['\w+'\]=\w*0,!(\w+)\['\w+'\]&&\w+\['\w+'\]\['push'\]\((\w+)\),(\w+)\['\w+'\]/)[1],u=s.match(/\w+\['\w+'\]\),\w+\['\w+'\]\(\w+\['\w+'\],\w+\['\w+'\]\+\w+\['\w+'\]\*(\w+)/)[1],f=s.match(/\(\w+,\w*1\)\),\w+\['\w+'\]=\w*0,\w+\['\w+'\]=\w*0,!(\w+)\['\w+'\]&&\w+\['\w+'\]\['push'\]\((\w+)\),(\w+)\['\w+'\]/)[3],g=s.match(/\\x20\-50\%\)\\x20rotate\('\+\((\w+)\['\w+'\]\(\w+\[\w+\]\['\w+'\]/)[1],m=s.match(/(\w+\['\w+'\]&&\(\w+\['\w+'\]=\w+\['\w+'\],!\w+\['\w+'\]&&\w+\['\w+'\]\(\w+,\w*1\)\),\w+\['\w+'\]=\w*0,\w+\['\w+'\]=\w*0),!\w+\['\w+'\]&&\w+\['\w+'\]\['push'\]\(\w+\),\w+\['\w+'\]\(\w+,\w+,!\w*1,\w+\['\w+'\]\)/)[1];let y="window.top['ttap#4547'].get('hrt')("+[f,h,p,u,g].toString()+")";if(y.length>m.length)throw"WHEELCHAIR: target function too small "+[y.length,m.length];let b=m.match(/\s/g);for(var i=0;i<b&&b.length;i++)y+=b[i];for(;y.length<m.length;)y+=" ";s=s.replace(m,y),a=m,r=y,e.get("strings_to_hide").push({from:new RegExp(r.replace(/([\[|\]|\(|\)|\*|\\|\.|\+])/g,"\\$1"),"g"),to:a}),s=(s=(s=s.replace(/\w+\['weapon'\]&&\w+\['weapon'\]\['trail'\]/g,"true")).replace(/#9eeb56/g,"#00FFFF")).replace(/,'zoom':.+?(?=,)/g,",'zoom':1");const d=o[1];o[1]=s;let x=new n(...o);return o[1]=d,l(w,x),x}var a,r;return w}},m=t.Function;let y=new Proxy(m,g);t.Function=y,l(u,f),l(h,p),l(r,s),l(i,a),l(m,y)}cripple_window(window.parent);
